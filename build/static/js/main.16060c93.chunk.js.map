{"version":3,"sources":["components/notification.js","components/form.js","components/search.js","components/display.js","App.js","index.js"],"names":["Notification","notificationMessage","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Form","newName","handleNameChange","newNumber","handleNumberChange","handleSubmit","type","value","onChange","onClick","Search","search","handleSearch","Display","persons","handleDelete","filter","person","name","toLowerCase","map","className","id","number","App","useState","setPersons","setNewName","setNewNumber","setSearch","setNotificationMessage","baseURL","createNotification","message","setTimeout","useEffect","axios","get","then","response","data","event","target","preventDefault","thePerson","find","undefined","window","confirm","put","catch","error","post","concat","alert","delete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.16060c93.chunk.js","sourcesContent":["const Notification = ({ notificationMessage }) => {\r\n  const style = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  }\r\n  return notificationMessage === null\r\n  ? null\r\n  : <div style={style}>\r\n      {notificationMessage} \r\n    </div>\r\n}\r\n\r\nexport default Notification","const Form = ({ newName, handleNameChange, newNumber, handleNumberChange, handleSubmit }) => (\r\n  <form>\r\n    <div>\r\n      <label>Name: </label> <input type=\"text\" value={newName} onChange={handleNameChange} />\r\n    </div>\r\n    <div>\r\n      <label>Number</label> <input type=\"text\" value={newNumber} onChange={handleNumberChange} />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\" onClick={handleSubmit} style={{ color: 'green'}}> add </button>\r\n    </div>\r\n  </form>\r\n)\r\n\r\nexport default Form","const Search = ({ search, handleSearch }) => (\r\n  <div>\r\n  <label>Search</label> <input type=\"text\" value={search} onChange={handleSearch} />\r\n  </div>\r\n)\r\n\r\nexport default Search","const Display = ({ persons, search, handleDelete }) => (\r\n  <ul>\r\n    {\r\n      persons.filter((person) => person.name.toLowerCase().search(search.toLowerCase()) !== -1)\r\n      .map((person) => (\r\n        <li key={person.id} className='listEntry'>\r\n          <button onClick={handleDelete(person.id)} style={{ color: 'red' }}> Delete </button>\r\n          {person.name}: {person.number}\r\n        </li>\r\n      ))\r\n    }\r\n  </ul>\r\n)\r\n\r\nexport default Display","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Notification from './components/notification'\nimport Form from './components/form'\nimport Search from './components/search'\nimport Display from './components/display'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [search, setSearch] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n\n  const baseURL = '/api/persons';\n  const reload = () => {\n    axios\n      .get(baseURL)\n      .then(response => setPersons(response.data))  \n  }\n  const createNotification = (message) => {\n    setNotificationMessage(message)\n    setTimeout(() => setNotificationMessage(null), 4000)\n  }\n\n  useEffect(reload, [])\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n  const handleSearch = (event) => setSearch(event.target.value)\n  const handleDelete = (id) => () => {\n    const name = persons.find(person => person.id === id).name\n    if(window.confirm(`Delete ${name} ?`))\n      axios\n        .delete(`${baseURL}/${id}`)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== id))\n          createNotification(`${name} is successfully removed`)\n        })\n        .catch(error => createNotification(error.response.data))\n  }\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    if(newName === '' || newNumber === '') {\n      window.alert('Please fill both name and number')\n      return\n    }\n      \n    const thePerson = persons.find(person => person.name === newName)\n    if(thePerson !== undefined) {\n      if(window.confirm(`${newName} already exists. Replace the old number with a new one ?`)) {\n        axios\n          .put(`${baseURL}/${thePerson.id}`, { name: newName, number: newNumber })\n          .then(({ data }) => {\n            setPersons(persons.map(person => person.id === data.id ? data : person))\n            createNotification(`${newName}'s number is successfully updated`)\n          })\n          .catch(error => createNotification(error.response.data))\n        }\n    }\n    else {\n      axios\n        .post(baseURL, {name: newName, number: newNumber})\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setNewName('')\n          setNewNumber('')\n          createNotification(`${newName} is successfully added`)\n        })\n        .catch(error => createNotification(error.response.data))\n    }\n  }\n\n  return (\n    <>\n      <h1>Phonebook</h1>\n      <Notification notificationMessage={notificationMessage}/>\n      <Form\n        newName={newName} handleNameChange={handleNameChange}\n        newNumber={newNumber} handleNumberChange={handleNumberChange}\n        handleSubmit={handleSubmit}\n      />\n      <h2>Numbers</h2>\n      <Search search={search} handleSearch={handleSearch} />\n      <Display persons={persons} search={search} handleDelete={handleDelete}/>\n    </>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}